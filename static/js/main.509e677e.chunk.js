(this["webpackJsonpsquare-game"]=this["webpackJsonpsquare-game"]||[]).push([[0],{11:function(e,n,t){"use strict";var r=t(16);t.o(r,"UsersProvider")&&t.d(n,"UsersProvider",(function(){return r.UsersProvider})),t.o(r,"useUsers")&&t.d(n,"useUsers",(function(){return r.useUsers}))},16:function(e,n,t){"use strict";var r=t(6);t.d(n,"UsersProvider",(function(){return r.a})),t.d(n,"useUsers",(function(){return r.b}));t(17)},17:function(e,n){},23:function(e){e.exports=JSON.parse('{"translation":{"level":"Level","game_over":"Game Over","hall_of_fame":"Hall of fame","user_name-placeholder":"Insert your nickname and press Enter"}}')},28:function(e,n,t){e.exports=t(47)},43:function(e,n,t){},46:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(18),i=t.n(c),u=t(27),o=t(8),l={en:t(23)},s=(u.a.use(o.a).init({resources:l,lng:"en"}),t(43),t(4));var f=t(11),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.floor(Math.random()*e)},v=function(){var e=d(360),n=25+d(70),t=10+d(85);return"hsl(".concat(e,",").concat(n,"%, ").concat(t,"%)")},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[d(e),d(e)]},p=t(1),b=t(2);function h(){var e=Object(p.a)(["\n    border-radius: 5px;\n    margin: ","px;\n    background-color: ",";\n    opacity: ",";\n    width: ","px;\n    height: ","px;\n    ","\n"]);return h=function(){return e},e}function w(){var e=Object(p.a)(["\n    display: flex;\n    flex-wrap: nowrap;\n    width: 100%;\n    height: ","px;\n"]);return w=function(){return e},e}function O(){var e=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    width: ","px;\n    height: ","px;\n"]);return O=function(){return e},e}var j=b.a.div(O(),(function(e){return e.side}),(function(e){return e.side})),g=b.a.div(w(),(function(e){return e.side})),x=b.a.div(h(),2.5,(function(e){return e.bg}),(function(e){return e.selected?.6:1}),(function(e){return e.side-5}),(function(e){return e.side-5}),(function(e){return e.onClick?"\n        :hover {\n            cursor:pointer;\n        }\n    ":void 0})),E=function(e){var n=window.innerWidth>window.innerHeight;return e?n?e>window.innerHeight?window.innerHeight:e:e>window.innerWidth?window.innerWidth:e:n?window.innerHeight:window.innerWidth},y=function(e){var n,t=e.clickBox,c=e.level,i=void 0===c?1:c,u=e.side,o=void 0===u?500:u,l=Object(r.useMemo)((function(){return i<2?2:i+1}),[i]),f=Object(r.useState)(E(o)),d=Object(s.a)(f,2),p=d[0],b=d[1],h=Object(r.useState)(v()),w=Object(s.a)(h,2),O=w[0],y=w[1],k=Object(r.useState)(m(l)),U=Object(s.a)(k,2),C=U[0],S=U[1];n=function(){return b(E(o))},Object(r.useEffect)((function(){var e=function(){n()};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[n]);var P=Array.from(Array(l)).map((function(e){return Array.from(Array(l))})),_=p/l;return Object(r.useEffect)((function(){y(v()),S(m(l))}),[l]),a.a.createElement(j,{side:p},P.map((function(e,n){return a.a.createElement(g,{key:"l-".concat(n),side:_},e.map((function(e,r){var c=n===C[0]&&r===C[1];return a.a.createElement(x,{key:"b-".concat(r),side:_,bg:O,selected:c,onClick:function(){return t(c)}})})))})))};function k(){var e=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 20px;\n"]);return k=function(){return e},e}function U(){var e=Object(p.a)(["\n    width: 100%;\n"]);return U=function(){return e},e}function C(){var e=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return C=function(){return e},e}var S=b.a.div(C()),P=b.a.header(U()),_=b.a.h1(k()),J=function(e){var n=e.level,t=e.count,r=e.click,c=Object(o.b)().t;return a.a.createElement(S,null,a.a.createElement(P,null,a.a.createElement(_,null,a.a.createElement("span",null,"".concat(c("level")," ").concat(n)),a.a.createElement("span",null,t,"s"))),a.a.createElement("div",null,a.a.createElement(y,{level:n,clickBox:r})))};function N(){var e=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px 20px;\n    :nth-child(even) {\n        background-color: #efefef;\n    }\n"]);return N=function(){return e},e}function W(){var e=Object(p.a)(["\n    list-style: none;\n    padding: 0;\n    width: 100%;\n"]);return W=function(){return e},e}function H(){var e=Object(p.a)(["\n    margin-top: 50px;\n    width: 100%;\n"]);return H=function(){return e},e}function q(){var e=Object(p.a)(["\n    width: 100%;\n    height: 40px;\n    padding: 0 20px;\n    box-sizing: border-box;\n"]);return q=function(){return e},e}function A(){var e=Object(p.a)(["\n    text-align: center;\n    padding: 0 20px;\n"]);return A=function(){return e},e}function B(){var e=Object(p.a)(["\n    width: 100%;\n"]);return B=function(){return e},e}function I(){var e=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: 770px;\n    padding: 20px;\n"]);return I=function(){return e},e}var z,L=b.a.div(I()),M=b.a.header(B()),R=b.a.h1(A()),T=b.a.input(q()),D=b.a.div(H()),G=b.a.ul(W()),K=b.a.li(N()),$=function(e,n){return n.score-e.score},F=function(e){var n=e.score,t=e.restart,c=e.top,i=void 0===c?10:c,u=Object(o.b)().t,l=Object(f.useUsers)(),d=l.queryUsers,v=l.mutateUsers,m=Object(r.useState)(),p=Object(s.a)(m,2),b=p[0],h=p[1];if(Object(r.useEffect)((function(){d($).then((function(e){h(e)}))}),[d]),b){return a.a.createElement(L,null,a.a.createElement(M,null,a.a.createElement(R,null,u("game_over")),a.a.createElement(T,{type:"text",placeholder:u("user_name-placeholder"),onKeyUp:function(e){if(13===e.keyCode){e.preventDefault();var r={name:e.target.value,score:n},a=b.concat([r]);v(a).then((function(){t()}))}}})),b.length?a.a.createElement(D,null,a.a.createElement(R,null,u("hall_of_fame")),a.a.createElement(G,null,b.map((function(e,n){return a.a.createElement(K,{key:n},a.a.createElement("span",null,e.name)," ",a.a.createElement("span",null,e.score))})).splice(0,i))):null)}return null},Q=t(9);!function(e){e[e.continue=0]="continue",e[e.fail=1]="fail",e[e.restart=2]="restart"}(z||(z={}));var V={level:1,fail:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0,t=n.type;n.payload;switch(t){case z.continue:return Object(Q.a)(Object(Q.a)({},e),{},{level:e.level+1});case z.fail:return Object(Q.a)(Object(Q.a)({},e),{},{fail:!0});case z.restart:return Object(Q.a)({},V);default:return e}},Y=(t(46),function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,n=Object(r.useState)(e),t=Object(s.a)(n,2),a=t[0],c=t[1],i=Object(r.useRef)(0),u=Object(r.useCallback)((function(){clearTimeout(i.current)}),[]),o=Object(r.useCallback)((function(){c(e)}),[e]);return Object(r.useEffect)((function(){if(i.current=setTimeout((function(){c(a-1)}),1e3),a)return function(){return u()};u()}),[a,u]),{count:a,stopCount:u,restartCount:o}}(3),n=e.count,t=e.stopCount,c=e.restartCount,i=Object(r.useReducer)(X,V),u=Object(s.a)(i,2),o=u[0],l=o.level,d=o.fail,v=u[1];Object(r.useEffect)((function(){n||v({type:z.fail})}),[n]);var m=Object(r.useCallback)((function(e){var n;e?(n=z.continue,c()):(n=z.fail,t()),v({type:n})}),[t,c]),p=Object(r.useCallback)((function(){c(),v({type:z.restart})}),[c]);return a.a.createElement("section",{className:"home"},d?a.a.createElement(f.UsersProvider,null,a.a.createElement(F,{score:l,restart:p})):a.a.createElement(J,{level:l,count:n,click:m}))});var Z=function(){return a.a.createElement("main",{className:"app"},a.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,n,t){"use strict";t.d(n,"b",(function(){return u}));var r=t(0),a=t.n(r),c={queryUsers:function(e){return new Promise((function(n,t){try{var r=[],a=window.localStorage.getItem("users");a&&(r=e?JSON.parse(a).sort(e):JSON.parse(a)),n(r)}catch(c){t(c)}}))},mutateUsers:function(e){return new Promise((function(n,t){try{window.localStorage.setItem("users",JSON.stringify(e)),n()}catch(r){t(r)}}))}},i=Object(r.createContext)(c),u=function(){return Object(r.useContext)(i)};n.a=function(e){var n=e.children;return a.a.createElement(i.Provider,{value:c},n)}}},[[28,1,2]]]);
//# sourceMappingURL=main.509e677e.chunk.js.map